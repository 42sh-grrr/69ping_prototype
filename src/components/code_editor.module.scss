.code-editor-outer {
  flex-grow: 1;
  background-color: green;

  padding-top: calc(max(
                          var(--screen-width) * var(--sin-a) - var(--total-width) * var(--tan-a),
                          (var(--total-width) - var(--screen-width) * var(--cos-a)) / var(--tan-a)
                  ));
  padding-bottom: calc(max(
                          var(--screen-height) * var(--cos-a) - var(--total-width) / var(--tan-a),
                          (var(--total-width) - var(--screen-height) * var(--sin-a)) * var(--tan-a)
                  ));
}

.code-editor {
  width: 100%;
  height: 100%;
  background-color: grey;
  /* flex-grow: 1; */
  position: relative;
  .code-container {
    position: absolute;
    inset: 0;
    overflow-y: scroll;
    overflow-x: auto;

    >* {
      font-family: var(--font-family-monospace);
      padding: 0.5rem;
      position: absolute;

      top: 0;
      left: 0;
      right: 0;

      min-height: 100%;
    }
  }

  .the-code {
    color: rgba(255,0,0,0.0);
    caret-color: white;

    &:focus {
      outline: none;
    }

    span {
      // For some reason content editable on chrome inserts spans with a solid
      // background so we need to overwrite it
      background-color: transparent !important;
    }
  }

  .the-visual-code {
    user-select: none;
  }

  .line {
    display: block;
    font-family: inherit;
    height: 1em;
  }
}

:global(.angle-inverted) {
  .code-editor-outer {
    padding-bottom: calc(max(
                            var(--screen-width) * var(--abs-sin-a) - var(--total-width) * var(--abs-tan-a),
                            (var(--total-width) - var(--screen-width) * var(--cos-a)) / var(--abs-tan-a)
                    ));
    padding-top: calc(max(
                            var(--screen-height) * var(--cos-a) - var(--total-width) / var(--abs-tan-a),
                            (var(--total-width) - var(--screen-height) * var(--abs-sin-a)) * var(--abs-tan-a)
                    ));
  }
}
